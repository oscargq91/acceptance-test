[{"line":1,"elements":[{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url api.healthCheckBaseUrl","result":{"duration":1835600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4},{"name":"def registerPath = \"\/register\"","result":{"duration":1207400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def serviceHealthPath = \"\/health\"","result":{"duration":891900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def deleteServicePath = \"\/delete\/apiRestTest\"","result":{"duration":878100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def responseSuccessfully = read(\"..\/database\/response_successfully.json\")","result":{"duration":43927000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def responseError = read(\"..\/database\/response_error.json\")","result":{"duration":13412500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def requestBody = read(\"..\/database\/body.json\")","result":{"duration":4405300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10}]},{"start_timestamp":"2024-05-06T22:46:50.512Z","line":13,"name":"Successfully add service to be monitored through health tests","description":"","id":"successfully-add-service-to-be-monitored-through-health-tests","type":"scenario","keyword":"Scenario","steps":[{"name":"path registerPath","result":{"duration":368300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":14},{"name":"request { name : \"apiRestTest\", endpoint: \"http:\/\/api-rest:8090\/api\/v1\/actuator\/health\", status: \"active\",frequency: 500, notification_emails: [\"correo_ejemplo1@example.com\"] }","result":{"duration":167700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":15},{"name":"method Post","result":{"duration":154188600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":16,"doc_string":{"content_type":"","value":"17:46:50.837 request:\n1 > POST http:\/\/localhost:8050\/register\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 173\n1 > Host: localhost:8050\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.9)\n1 > Accept-Encoding: gzip,deflate\n{\"name\":\"apiRestTest\",\"endpoint\":\"http:\\\/\\\/api-rest:8090\\\/api\\\/v1\\\/actuator\\\/health\",\"status\":\"active\",\"frequency\":500,\"notification_emails\":[\"correo_ejemplo1@example.com\"]}\n\n17:46:50.867 response time in milliseconds: 28\n1 < 201\n1 < Server: Werkzeug\/3.0.2 Python\/3.9.19\n1 < Date: Mon, 06 May 2024 22:46:50 GMT\n1 < Content-Type: application\/json\n1 < Content-Length: 46\n1 < Connection: close\n{\"message\":\"Service registered successfully\"}\n\n\n","line":16}},{"name":"status 201","result":{"duration":17900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":17},{"name":"path deleteServicePath","result":{"duration":912200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":18},{"name":"method Delete","result":{"duration":10289000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":19,"doc_string":{"content_type":"","value":"17:46:50.872 request:\n2 > DELETE http:\/\/localhost:8050\/delete\/apiRestTest\n2 > Host: localhost:8050\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.9)\n2 > Accept-Encoding: gzip,deflate\n\n\n17:46:50.879 response time in milliseconds: 7\n2 < 200\n2 < Server: Werkzeug\/3.0.2 Python\/3.9.19\n2 < Date: Mon, 06 May 2024 22:46:50 GMT\n2 < Content-Type: application\/json\n2 < Content-Length: 55\n2 < Connection: close\n{\"message\":\"Service apiRestTest deleted successfully\"}\n\n\n","line":19}},{"name":"status 200","result":{"duration":9200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":20}],"tags":[{"name":"@AddAndDeleteServiceSuccessfully","line":12}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url api.healthCheckBaseUrl","result":{"duration":700900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4},{"name":"def registerPath = \"\/register\"","result":{"duration":535600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def serviceHealthPath = \"\/health\"","result":{"duration":454700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def deleteServicePath = \"\/delete\/apiRestTest\"","result":{"duration":541000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def responseSuccessfully = read(\"..\/database\/response_successfully.json\")","result":{"duration":1117900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def responseError = read(\"..\/database\/response_error.json\")","result":{"duration":2859600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def requestBody = read(\"..\/database\/body.json\")","result":{"duration":3762000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10}]},{"start_timestamp":"2024-05-06T22:46:50.888Z","line":23,"name":"check the health status of a registered service that is working well","description":"","id":"check-the-health-status-of-a-registered-service-that-is-working-well","type":"scenario","keyword":"Scenario","steps":[{"name":"path serviceHealthPath + \"\/apiRest","result":{"duration":8564600,"error_message":"js failed:\n>>>>\n01: serviceHealthPath + \"\/apiRest\n<<<<\norg.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:29 Missing close quote\r\nserviceHealthPath + \"\/apiRest\r\n                             ^\n\n- org.graalvm.polyglot.Context.eval(Context.java:425)\n- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)\n- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)\n- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)\n- com.intuit.karate.core.ScenarioEngine.path(ScenarioEngine.java:379)\n- com.intuit.karate.ScenarioActions.path(ScenarioActions.java:82)\n- java.base\/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\nclasspath:karate\/health.feature:24","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":24,"doc_string":{"content_type":"","value":"17:46:50.914 classpath:karate\/health.feature:24\nGiven path serviceHealthPath + \"\/apiRest\njs failed:\n>>>>\n01: serviceHealthPath + \"\/apiRest\n<<<<\norg.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:29 Missing close quote\r\nserviceHealthPath + \"\/apiRest\r\n                             ^\n\n- org.graalvm.polyglot.Context.eval(Context.java:425)\n- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)\n- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)\n- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)\n- com.intuit.karate.core.ScenarioEngine.path(ScenarioEngine.java:379)\n- com.intuit.karate.ScenarioActions.path(ScenarioActions.java:82)\n- java.base\/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\nclasspath:karate\/health.feature:24\n","line":24}},{"name":"method Get","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":25},{"name":"status 200","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":26},{"name":"match response contains responseSuccessfully.health","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27}],"tags":[{"name":"@CheckServicehealthSuccessfully","line":22}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url api.healthCheckBaseUrl","result":{"duration":195500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4},{"name":"def registerPath = \"\/register\"","result":{"duration":169300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def serviceHealthPath = \"\/health\"","result":{"duration":172700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def deleteServicePath = \"\/delete\/apiRestTest\"","result":{"duration":128800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def responseSuccessfully = read(\"..\/database\/response_successfully.json\")","result":{"duration":957500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def responseError = read(\"..\/database\/response_error.json\")","result":{"duration":1575900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def requestBody = read(\"..\/database\/body.json\")","result":{"duration":2033400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10}]},{"start_timestamp":"2024-05-06T22:46:50.920Z","line":30,"name":"check the health status of a registered service that is failing","description":"","id":"check-the-health-status-of-a-registered-service-that-is-failing","type":"scenario","keyword":"Scenario","steps":[{"name":"path serviceHealthPath + \"\/apiRestError","result":{"duration":592400,"error_message":"js failed:\n>>>>\n01: serviceHealthPath + \"\/apiRestError\n<<<<\norg.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:34 Missing close quote\r\nserviceHealthPath + \"\/apiRestError\r\n                                  ^\n\n- org.graalvm.polyglot.Context.eval(Context.java:425)\n- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)\n- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)\n- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)\n- com.intuit.karate.core.ScenarioEngine.path(ScenarioEngine.java:379)\n- com.intuit.karate.ScenarioActions.path(ScenarioActions.java:82)\n- java.base\/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\nclasspath:karate\/health.feature:31","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":31,"doc_string":{"content_type":"","value":"17:46:50.929 classpath:karate\/health.feature:31\nGiven path serviceHealthPath + \"\/apiRestError\njs failed:\n>>>>\n01: serviceHealthPath + \"\/apiRestError\n<<<<\norg.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:34 Missing close quote\r\nserviceHealthPath + \"\/apiRestError\r\n                                  ^\n\n- org.graalvm.polyglot.Context.eval(Context.java:425)\n- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)\n- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)\n- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)\n- com.intuit.karate.core.ScenarioEngine.path(ScenarioEngine.java:379)\n- com.intuit.karate.ScenarioActions.path(ScenarioActions.java:82)\n- java.base\/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\nclasspath:karate\/health.feature:31\n","line":31}},{"name":"method Get","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":32},{"name":"status 503","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":33}],"tags":[{"name":"@CheckServicehealthWithError","line":29}]}],"name":"karate\/health.feature","description":"Validate log management","id":"validate-log-management","keyword":"Feature","uri":"karate\/health.feature"}]